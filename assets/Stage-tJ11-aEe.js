import{_ as ee,o as c,c as g,a,n as q,t as p,e as V,f as j,F as T,d as y,g as P,u as B,h as M,v as E,i as Y,j as J,k as Q,l as H,m as re}from"./index-BxvDS9-G.js";class I{constructor(e){this.short=e,this.props={short:e};let s=G.find(r=>r.short==e);if(s){this.props=s,this.member=s.member;let r=le.find(i=>i.member==s.member);r&&(this.year=r.year,this.unit=r.unit),this.cost=s.cost,this.costDelta=0,this.teCostDelta=0}}copy(){let e=new I(this.short);return e.cost=this.cost,e.costDelta=this.costDelta,e.teCostDelta=this.teCostDelta,e}getMain(e){var s;return(s=this.props)!=null&&s.main?typeof this.props.main=="function"?this.props.main(e):this.props.main:""}getCost(e,s=!0){var i,m,h,o;let r=this.cost;return r+=this.costDelta,e&&((i=this.props)!=null&&i.teCostDelta)&&(r+=(m=this.props)==null?void 0:m.teCostDelta(e)),e&&(r+=this.teCostDelta),s&&((h=this.props)!=null&&h.spCostDelta)&&(r+=(o=this.props)==null?void 0:o.spCostDelta(e)),r>=1?r:1}getCalcCost(e){let s=this.getSkill(e),r=this.getCost(e.te),i=r;return i-=(s==null?void 0:s.ap)??0,i-=(s==null?void 0:s.spAp)??0,(i<1||i>=e.apMax&&r<=e.ap)&&(i=1),i}isReshuffle(e){var s;return(s=this.props)!=null&&s.reshuffle?typeof this.props.reshuffle=="function"?this.props.reshuffle(e):this.props.reshuffle:!1}getSkill(e){var s;if((s=this.props)!=null&&s.skill)return typeof this.props.skill=="function"?this.props.skill(e):this.props.skill}onSkill(e){e.trigger(this.getSkill(e))}afterSkill(e){var s;(s=this.props)!=null&&s.afterSkill&&this.props.afterSkill(e,this)}onDraw(e){var s;this.teCostDelta=0,(s=this.props)!=null&&s.draw&&(typeof this.props.draw=="function"?e.trigger(this.props.draw(e,this)):e.trigger(this.props.draw))}calcDrawHeartCount(e){var h,o,d,v;let s=0,r;(h=this.props)!=null&&h.draw&&(typeof((o=this.props)==null?void 0:o.draw)=="function"?r=(d=this.props)==null?void 0:d.draw(e):r=(v=this.props)==null?void 0:v.draw),s+=(r==null?void 0:r.heart)||0,e.sp=="tz"&&(s+=(r==null?void 0:r.voltage)||0),e.sp=="mg2"&&(s+=((r==null?void 0:r.mental)||0)+((r==null?void 0:r.protect)||0));let i=0,m=this.getSkill(e);if((m==null?void 0:m.ap)<0){i+=m.heart||0,e.sp=="tz"&&(i+=(m==null?void 0:m.voltage)||0),e.sp=="mg2"&&(i+=((m==null?void 0:m.mental)||0)+((m==null?void 0:m.protect)||0));let w=e.getAllCards().length/e.teMax;s+=i*w/(w+e.scoreCardCount)}return s}onCross(e,s,r){var i;(i=this.props)!=null&&i.cross&&this.props.cross(e,s,r,this)}matchAttrs(e){return Object.keys(e).every(s=>e[s]==null?!0:e[s]==this[s])}calcSubtractAp(e){let s=0;if(e!=null&&e.length)for(let r of e)this.matchAttrs({...r,cost:void 0})&&(s+=r.cost);return s}}const le=[{member:3,short:"kz",year:102,unit:"srb"},{member:4,short:"tz",year:102,unit:"drk"},{member:6,short:"mg",year:102,unit:"mrp"},{member:1,short:"kh",year:103,unit:"srb"},{member:2,short:"sy",year:103,unit:"drk"},{member:5,short:"rr",year:103,unit:"mrp"},{member:7,short:"gn",year:104,unit:"srb"},{member:8,short:"sz",year:104,unit:"drk"},{member:9,short:"hm",year:104,unit:"mrp"}],G=[{short:"åœ£å¤œåŸ",member:7,cost:8,main:"dress",reshuffle:!0,skill:{cards:["åœ£å¤œğŸ‘—","åœ£å¤œğŸ‘—","åœ£å¤œğŸ‘—","åœ£å¤œğŸ‘—","åœ£å¤œğŸ‘—"]}},{short:"åœ£å¤œğŸ‘—",member:"dress",cost:3,main:"reshuffle",reshuffle:!0,once:!0,skill:{mental:1,voltage:1}},{short:"paåŸ",member:7,cost:4,main:"dress",skill:{cards:["pağŸ‘—","pağŸ‘—"]}},{short:"pağŸ‘—",member:"dress",cost:2,main:"ap",once:!0},{short:"lttfé“ƒ",member:8,cost:9,main:"voltage",skill(t){let e={voltage:1,mental:-1};return t.sp=="tz2"&&(e.spAp=5),e},drawFilters:[{member:9}]},{short:"ä¸Šå‡å§¬èŠ½",member:9,cost:3,main(t){return t!=null&&t.ignition?"reshuffle":"mental"},reshuffle:t=>t==null?void 0:t.ignition,skill(t){let e={mental:1,protect:1};return t.ignition&&(e["ap-"]=[{unit:"mrp",cost:-3}]),e},ignitionTimes:3,cross(t,e,s){t.ignition||(s=="mental"||s=="protect")&&t.trigger({ignition:1})}},{short:"paå§¬èŠ½",member:9,cost:4,main:"reshuffle",reshuffle:!0,skill:{protect:1}},{short:"ç»‡å§¬èŠ±å¸†",member:1,cost:4,main:"reshuffle",reshuffle:!0,skill:{mental:1}},{short:"éŸ³å‡»èŠ±å¸†",member:1,cost:9,main:"heart",reshuffle:!0,yamaReshuffle:!0,skill:{heart:3},draw:{heart:1,mental:1}},{short:"lttfæ²™è€¶",member:2,cost:5,main:"voltage",skill(t){let e={voltage:1};return t.sp=="tz2"&&(e.spAp=2),e},drawFilters:[{member:6}]},{short:"æ²èŒ¶ç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{voltage:1},draw:{heart:1}},{short:"è›‹ç³•ç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{heart:1},draw:{heart:1}},{short:"èŠ±ç»“æ¢¢",member:3,cost:13,main:"reshuffle",reshuffle:!0,drawFilters:[{unit:"srb"},{member:"dress"},{unit:"srb"},{member:"dress"},{unit:"srb"},{member:"dress"},{unit:"srb"},{member:"dress"}],skill:{"ap-":[{unit:"srb",cost:-3},{member:"dress",cost:-3}]},cross(t,e,s,r){e.unit=="srb"&&(t.trigger({heart:1}),r.teCostDelta-=3)}},{short:"kolæ¢¢",member:3,cost:9,main:"mental",skill(t){let e={mental:1,heart:1};return t.sp=="mg2"&&(e.spAp=4),e},draw:{"ap-":[{member:6,cost:-9}]},cross(t,e){e.member==6&&t.trigger({protect:1,heart:1})}},{short:"è‡ªç”±ç¼€",member:4,cost:2,main:"mental",skill(t){let e={mental:1,heart:1};return t.sp=="mg2"&&(e.spAp=5),e},draw(t){let e={};return t.mental&&(e={heart:1}),e}},{short:"kolç¼€",member:4,cost:3,main:"voltage",skill:{voltage:1,heart:1},draw:{"ap-":[{member:3,cost:-3},{member:6,cost:-3}]},cross(t,e){e.member==6&&t.trigger({voltage:1,heart:1})}},{short:"afæ…ˆ",member:6,cost:9,main:"protect",skill(t){let e={protect:1,heart:9,ap:-1/0};return t.sp=="mg2"&&(e.spAp=15),e}},{short:"kolæ…ˆ",member:6,cost:39,main:"heart",skill:{heart:1,cards:["ğŸ’"]},cross(t,e,s,r){(e.member==1||e.member==2||e.member==3||e.member==4||e.member==5||e.member==7||e.member==8||e.member==9)&&(r.teCostDelta-=3)}},{short:"ğŸ’",member:"jewelry",cost:1,main:"ap-",once:!0,skill:{"ap-":[{cost:-1}]},draw:{heart:1,voltage:1,protect:1}},{short:"èˆä¼šç¼€",member:4,cost:2,main:"voltage",skill(t){let e={voltage:1};return t.sp=="tz2"&&(e.spAp=4),e}},{short:"èˆä¼šæ²™è€¶",member:2,cost:2,main:"love+"},{short:"é“¶æ²³ç¼€",member:4,cost:2,main:"voltage",skill(t){let e={voltage:1,heart:1};return t.sp=="tz2"&&(e.spAp=5),e}},{short:"é“¶æ²³æ…ˆ",member:6,cost:5,main:"reshuffle",reshuffle:!0,skill(t){let e={mental:1,protect:1};return t.sp=="mg2"&&(e.spAp=20),e}},{short:"è®´æ­Œæ¢¢",member:3,cost:3,main:"love+",draw:{heart:1}},{short:"ritmæ¢¢",member:3,cost:2,main:"voltage",skill:{voltage:1},draw:{mental:1}},{short:"ç§‹è‰²æ¢¢",member:3,cost:6,main:"love+",draw:{mental:1}},{short:"è‡ªç”±æ¢¢",member:3,cost:2,main:"protect",skill(t){let e={protect:1};return t.sp=="mg2"&&(e.spAp=2),e},draw(t){let e={};return t.mental&&(e={protect:1},t.sp=="mg2"&&(e.spAp=4)),e}},{short:"æ•™å¸ˆæ¢¢",member:3,cost:2,main:"heart",skill:{heart:1,mental:-1},draw:{mental:1}},{short:"è“è¿œæ¢¢",member:3,cost:3,main:"dress",skill:{cards:["è“è¿œæ¢¢ğŸ‘—"]},cross(t,e){e.unit=="srb"&&t.trigger({voltage:1})}},{short:"è“è¿œæ¢¢ğŸ‘—",member:"dress",cost:3,main:"love+",once:!0},{short:"æ°´æ¯æ¢¢",member:3,cost:5,main:"love+",draw:{cards:["âšª"]}},{short:"âšª",member:"bubble",cost:1,main:"ap-",once:!0,skill:{"ap-":[{unit:"srb",cost:-3},{member:"dress",cost:-3}]}},{short:"afæ¢¢",member:3,cost:0,spCostDelta(t){var e;return((e=t==null?void 0:t.filter(s=>{var r;return!((r=s.props)!=null&&r.spCostDelta)}))==null?void 0:e.reduce((s,r)=>s+r.getCost(t,!1),0))||0},main:"ensemble",reshuffle:!0,skill:{ensemble:!0,heart:9,ap:-1/0}},{short:"ssç¼€",member:4,cost:3,main:"heart",skill:{heart:1},draw:{voltage:1}},{short:"é›¨ä¼ç¼€",member:4,cost:5,main:"love+",draw:{heart:1}},{short:"èŠ±ç«ç¼€",member:4,cost:3,main:"voltage",skill:{voltage:1},draw:{voltage:1}},{short:"ç§‹è‰²ç¼€",member:4,cost:6,main:"heart",skill(t){let e={};return t.mental?e={heart:3}:e={heart:2},e},draw:{mental:1}},{short:"æŠ±èŠ±ç¼€",member:4,cost:4,main:"voltage",skill:{voltage:1},draw:{voltage:1}},{short:"éŸ³å‡»ç¼€",member:4,cost:9,main:"voltage",skill:{voltage:1,heart:3},draw:{voltage:1,protect:1}},{short:"afç¼€",member:4,cost:9,main:"voltage",skill(t){let e={voltage:2,heart:9,ap:-1/0};return t.sp=="tz"&&(e.heart=9),t.sp=="tz2"&&(e.spAp=20),e}},{short:"è›‹ç³•æ…ˆ",member:6,cost:4,main:"mental",skill:{mental:1},draw:{mental:1,protect:1}},{short:"èˆä¼šæ…ˆ",member:6,cost:3,main:"love+",yamaUse:!0,skill:{mental:-1},draw:{mental:1}},{short:"åœ£è¯æ…ˆ",member:6,cost:4,main:"mental",skill:{mental:3},draw:{mental:1}},{short:"æŠ±èŠ±æ…ˆ",member:6,cost:4,main:"protect",skill:{protect:1},draw:{protect:1}},{short:"hsctæ…ˆ",member:6,cost:4,main:"reshuffle",reshuffle:!0},{short:"ritmèŠ±å¸†",member:1,cost:1,main:"heart",skill:{heart:1},draw:{mental:1}},{short:"è®´æ­ŒèŠ±å¸†",member:1,cost:3,main:"mental",skill:{mental:1},draw:{voltage:1}},{short:"é›¨ä¼èŠ±å¸†",member:1,cost:3,main:"voltage",skill:{voltage:1},draw:{mental:1}},{short:"è‡ªç”±èŠ±å¸†",member:1,cost:2,main:"voltage",skill(t){let e={voltage:1,heart:1};return t.sp=="tz2"&&(e.spAp=2),e},draw(t){let e={};return t.mental&&(e={voltage:1},t.sp=="tz2"&&(e.spAp=1)),e}},{short:"èˆä¼šèŠ±å¸†",member:1,cost:6,main:"heart",skill:{heart:1}},{short:"å¶æ´»èŠ±å¸†",member:1,cost:9,main:"heart",reshuffle:!0,skill:{heart:1},cross(t,e,s,r){(e.member==2||e.member==5)&&(r.teCostDelta-=2)}},{short:"å¿«ä¹èŠ±å¸†",member:1,cost:2,main:"mental",skill:{mental:1,voltage:1},draw:{mental:1,heart:1}},{short:"è“è¿œèŠ±å¸†",member:1,cost:3,main:"dress",skill:{cards:["è“è¿œèŠ±å¸†ğŸ‘—"]},cross(t,e){e.unit=="srb"&&t.trigger({voltage:1})}},{short:"è“è¿œèŠ±å¸†ğŸ‘—",member:"dress",cost:3,main:"heart",once:!0,skill:{heart:1}},{short:"é›¨ä¼æ²™è€¶",member:2,cost:4,main:"mental",skill:{mental:1},draw:{voltage:1}},{short:"tcæ²™è€¶",member:2,cost:3,main:"love+",skill:{mental:-1},draw:{voltage:1}},{short:"å®‡å®™æ²™è€¶",member:2,cost:4,main:"teMax",skill:{voltage:1}},{short:"æ²èŒ¶æ²™è€¶",member:2,cost:2,main:"love+",skill:{voltage:1}},{short:"åœ£è¯æ²™è€¶",member:2,cost:4,main:"voltage",skill:{voltage:1,heart:2},draw:{voltage:1}},{short:"dbç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{voltage:1},draw:{voltage:1}},{short:"æ¢¦å¢ƒç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{heart:1}},{short:"rodç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{mental:1},draw:{mental:1}},{short:"ä¸€ä¸“ç‘ ç’ƒ",member:5,cost:5,main:"reshuffle",reshuffle:!0,skill:{heart:1}},{short:"abdlç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill:{mental:1}},{short:"ç™½æ˜¼ç‘ ç’ƒ",member:5,cost:3,main:"reshuffle",reshuffle:!0,skill:{mental:-1},draw:{heart:1}},{short:"mcç‘ ç’ƒ",member:5,cost:4,main:"reshuffle",reshuffle:!0,skill(t){let e;return t.ignition?e={heart:1}:e={ap:1},e}},{short:"ritmåŸ",member:7,cost:5,main:"dress",skill:{cards:["ritmğŸ‘—1","ritmğŸ‘—2","ritmğŸ‘—3"]},draw:{protect:1}},{short:"ritmğŸ‘—1",member:"dress",cost:1,main:"heart",once:!0,skill:{heart:1}},{short:"ritmğŸ‘—2",member:"dress",cost:1,main:"voltage",once:!0,skill:{voltage:1}},{short:"ritmğŸ‘—3",member:"dress",cost:1,main:"teMax",once:!0},{short:"è“è¿œåŸ",member:7,cost:3,main:"dress",skill:{cards:["è“è¿œğŸ‘—","è“è¿œğŸ‘—","è“è¿œğŸ‘—"]},cross(t,e){e.unit=="srb"&&t.trigger({voltage:1})}},{short:"è“è¿œğŸ‘—",member:"dress",cost:2,main:"reshuffle",reshuffle:!0,once:!0,skill:{heart:1}},{short:"èŠ±ç»“åŸ",member:7,cost:13,teCostDelta(t){let e=0;for(let s of t)s.unit=="srb"&&(e-=3);return e},main:"dress",reshuffle:!0,skill:{cards:["èŠ±ç»“ğŸ‘—1","èŠ±ç»“ğŸ‘—1","èŠ±ç»“ğŸ‘—1","èŠ±ç»“ğŸ‘—2","èŠ±ç»“ğŸ‘—2","èŠ±ç»“ğŸ‘—2","èŠ±ç»“ğŸ‘–3","èŠ±ç»“ğŸ‘–3","èŠ±ç»“ğŸ‘–3"]},drawFilters:[{member:"dress"},{member:"dress"},{member:"dress"},{member:"dress"},{member:"dress"},{member:"dress"},{member:"dress"},{member:"dress"}]},{short:"èŠ±ç»“ğŸ‘—1",member:"dress",cost:3,main:"voltage",once:!0,skill(t){let e={voltage:1};return t.getAllCards().length>=33&&(e.heart=1),t.sp=="tz2"&&(e.spAp=8),e}},{short:"èŠ±ç»“ğŸ‘—2",member:"dress",cost:3,main:"protect",once:!0,skill(t){let e={protect:1};return t.getAllCards().length>=33&&(e.heart=1),t.sp=="tz2"&&(e.spAp=6),e}},{short:"èŠ±ç»“ğŸ‘–3",member:"dress",cost:3,main:"reshuffle",reshuffle:!0,once:!0,skill(t){return t.getAllCards().length>=30?{heart:1}:res},drawFilters:[{unit:"srb"},{unit:"srb"},{unit:"srb"},{unit:"srb"},{unit:"srb"},{unit:"srb"}]},{short:"dbé“ƒ",member:8,cost:5,main:"heart",skill:{heart:1},afterSkill(t,e){e.costDelta--}},{short:"é›ªçººé“ƒ",member:8,cost:3,main:"mental",skill:{mental:1}}];let te=class se{constructor(e){this.score=0,this.te=[],this.sute=[],this.yama=e,this.mental=!0,this.protect=!1,this.apMax=20,this.ignition=!1,this.ignitionTimesDict={},this.cardTimesDict={apSkip:0},this.ignitionChangeQueue=[],this.timesCount=0,this.cardsCount=0,this.sp="",this.effect="",this.teMax=8,this.ap=0,this.apSpeed=2.5,this.drawHeartCount=0,this.jewelryCountTarget=0,this.hasCostEffect=!1,this.testResults=[],this.hasIgnitionAndScoreCard=!1,this.hasEnsemble=!1,this.scoreCardCount=0}getAllCards(){return[...this.te,...this.sute,...this.yama]}getDrawYama(){return this.yama.length?this.yama:this.sute}start(){this.ap=this.apSpeed,this.hasIgnitionAndScoreCard=this.getAllCards().filter(e=>{var s,r,i;return(((s=e.props)==null?void 0:s.main)=="mental"||((r=e.props)==null?void 0:r.main)=="protect")&&(e.isReshuffle(this)||((i=e.getSkill(this))==null?void 0:i.ap)<0)}).length>0,this.hasEnsemble=this.getAllCards().filter(e=>{var s;return((s=e.props)==null?void 0:s.main)=="ensemble"}).length>0,this.scoreCardCount=this.getAllCards().filter(e=>{var s;return((s=e.getSkill(this))==null?void 0:s.ap)<0}).length,this.sp=="kz2"&&(this.ap=1/0);for(let e=0;e<this.teMax;e++){let s=Math.floor(Math.random()*this.yama.length),r=this.yama.splice(s,1)[0];this.te.push(r)}this.hasCostEffect=["st1a"].includes(this.effect),this.testAllCards()}draw(e,s){this.yama.length||(this.yama=[...this.sute],this.sute=[],this.effect=="kj1a"&&(this.addAp(3),this.yama.forEach(h=>{h.getMain(this)=="reshuffle"&&h.cost++})));let r;s?(r=this.yama.filter(h=>h.matchAttrs(s)),r.length||(r=this.yama)):r=this.yama;let i=Math.floor(Math.random()*r.length),m=r[i];this.yama.splice(this.yama.indexOf(m),1),this.te[e]=m,m.onDraw(this)}autoAp(){this.sp!="kz2"&&this.addAp(this.apSpeed)}useCard(e,s=!1){var i,m,h,o,d,v,w,f,k;if(e==null){this.cardTimesDict.apSkip++,this.autoAp(),this.timesCount++;return}this.usingCard=!0;let r=this.te[e];this.cardTimesDict[r.short]||(this.cardTimesDict[r.short]=0),this.cardTimesDict[r.short]++,this.sp!="kz2"&&this.addAp(-r.getCost(this.te)),r.cost=r.props.cost,r.onSkill(this),this.ignition&&((i=r.props)!=null&&i.ignitionTimes)&&(this.ignitionTimesDict[r.short]==null&&(this.ignitionTimesDict[r.short]=0),this.ignitionTimesDict[r.short]++,this.ignitionTimesDict[r.short]>=((m=r.props)==null?void 0:m.ignitionTimes)&&(this.trigger({ignition:0}),this.ignitionTimesDict[r.short]=0));for(let n of this.te)n.onCross(this,r,r.getMain(this));if(this.sp=="sy"&&this.score++,r.afterSkill(this),(h=r.props)!=null&&h.yamaUse&&(r.toYama=!0),(o=r.props)!=null&&o.yamaReshuffle&&this.getAllCards().forEach(n=>{n!=r&&(n.toYama=!0)}),(d=r.props)!=null&&d.once&&(r.toOut=!0),!s){if(this.usingCard=!1,r.isReshuffle(this)){for(let n in this.te)n!=e&&this.sute.push(this.te[n]);this.yama.push(...this.sute.filter(n=>n.toYama&&!n.toOut)),this.sute=this.sute.filter(n=>!n.toYama&&!n.toOut);for(let n=0;n<this.teMax;n++)this.draw(n,(w=(v=r.props)==null?void 0:v.drawFilters)==null?void 0:w[n])}else this.draw(e,(k=(f=r.props)==null?void 0:f.drawFilters)==null?void 0:k[0]);for(let n=0;n<this.ignitionChangeQueue.length;n++)this.trigger({ignition:this.ignitionChangeQueue.shift()});r.toOut||(r.toYama?this.yama.push(r):this.sute.push(r)),this.getAllCards().forEach(n=>n.toYama=!1)}if(this.timesCount++,this.cardsCount++,this.effect=="gc1a"&&this.cardsCount%30==0)this.getAllCards().forEach(n=>{n.getMain()=="mental"&&n.costDelta--});else if(this.effect=="gc1b"&&this.cardsCount%15==0)this.getAllCards().forEach(n=>{n.unit=="srb"&&n.costDelta--});else if(this.effect=="gc1c"&&this.cardsCount%20==0)this.getAllCards().forEach(n=>{n.unit=="drk"&&n.costDelta--});else if(this.effect=="kj1b"&&this.cardsCount%5==0){this.sute.push(...this.te.splice(0));for(let n=0;n<this.teMax;n++)this.draw(n)}else this.effect=="st1a"&&this.cardsCount%6==0&&this.getAllCards().forEach(n=>n.cost++);!this.protect&&this.sp!="mg2"&&(this.mental=!1),s||(this.autoAp(),this.testAllCards())}calcTestDrawHeartCount(){let e=0,s=this.getAllCards(),r=s.filter(i=>i.short=="ğŸ’").length;if(r<this.jewelryCountTarget)for(let i=0;i<this.jewelryCountTarget-r;i++)s.push(new I("ğŸ’"));return s.forEach(i=>{e+=i.calcDrawHeartCount(this)}),this.drawHeartCount=e,e}calcNextDrawHeartCount(e){var o;let s=0,r=0,i=[],m=[],h=this.getAllCards();return i=(o=e.props)!=null&&o.yamaReshuffle?h.filter(d=>d!=e):this.yama,i.forEach(d=>{s+=d.calcDrawHeartCount(this)}),i.length<this.teMax?(m=[...this.sute,...this.te.filter(d=>d!=e)],m.forEach(d=>r+=d.calcDrawHeartCount(this)),(s+r/m.length*(this.teMax-i.length))/h.length*Math.min(h.length,this.teMax*2)+this.drawHeartCount*this.teMax/h.length*Math.max(0,h.length-this.teMax*2)/h.length):s/i.length*this.teMax/h.length*Math.min(h.length,this.teMax*2)+this.drawHeartCount*this.teMax/h.length*Math.max(0,h.length-this.teMax*2)/h.length}testCard(e,s){var n,N,U,L;let r=s?s.short:this.te[e].short;if(r=="kolæ…ˆ")return .01;if(r=="ğŸ’")return 0;if(["ritmåŸ","è“è¿œæ¢¢","è“è¿œèŠ±å¸†","paåŸ","èŠ±ç»“åŸ"].includes(r))return-.01;let i=new se([]);i.usingCard=!0;for(let C of this.te)i.te.push(C.copy());for(let C of this.sute)i.sute.push(C.copy());for(let C of this.yama)i.yama.push(C.copy());i.mental=this.mental,i.protect=this.protect,i.ap=this.ap,i.apMax=this.apMax,i.apSpeed=this.apSpeed,i.ignition=this.ignition,i.ignitionTimesDict={...this.ignitionTimesDict},i.sp=this.sp,i.jewelryCountTarget=this.jewelryCountTarget,i.scoreCardCount=this.scoreCardCount;let m=i.getAllCards().length,h,o;if(s&&(h=i.te[e].getCost(i.te),i.te[e]=s,o=i.te[e].getCost(i.te),(i.sp=="mg2"||i.sp=="tz2"||i.sp=="kz2")&&(h=1,o=1),o>i.apMax))return 0;let d=i.te[e],v=d.getSkill(i);v&&(v={...v,ensemble:!1});let w=d.isReshuffle(i);d.onSkill(i);for(let C of i.te)C.onCross(i,d,d.getMain(i));i.calcTestDrawHeartCount();let f=i.score,k=i.getAllCards().length;if(w&&(f+=i.calcNextDrawHeartCount(d)),((N=(n=d.props)==null?void 0:n.drawFilters)==null?void 0:N.length)==1&&!s){let C=(U=d.props)==null?void 0:U.drawFilters[0],$=i.getDrawYama().filter(F=>Object.keys(C).every(b=>F[b]==C[b]));$.forEach(F=>f+=i.testCard(e,F)/$.length)}return(L=d.props)!=null&&L.once&&(f+=((i.drawHeartCount-d.calcDrawHeartCount(i))/(m-1)-i.drawHeartCount/m)*Math.min(this.hasEnsemble?k/i.teMax:1/0,w?i.teMax:i.teMax**3)),f+=(i.drawHeartCount/k-i.drawHeartCount/m)*Math.min(this.hasEnsemble?k/i.teMax:1/0,i.teMax),k>m&&(f/=(k-m)/(this.hasEnsemble?k/i.teMax:1)+1),(v==null?void 0:v.ap)<=-i.apMax&&(f/=Math.ceil(Math.min(...this.te.filter(C=>C!=d&&C.member!="jewelry").map(C=>C.getCost(this.te)))/i.apSpeed)),d.short=="ä¸Šå‡å§¬èŠ½"&&(this.hasIgnitionAndScoreCard||(f*=3/4),this.hasCostEffect&&(f*=d.getCost(i.te))),s&&(f/=Math.max(2,(h+o)/h)),f<0?0:f}testAllCards(){this.testResults=this.te.map((e,s)=>this.testCard(s))}trigger(e){e&&(this.addAp(e.ap),this.addHeart(e.heart),this.addVoltage(e.voltage),this.addMental(e.mental),this.addProtect(e.protect),this.subtractAp(e["ap-"]),this.addCard(e.cards),this.ensemble(e.ensemble),this.changeIgnition(e.ignition),this.addAp(e.spAp))}addHeart(e){e&&(this.score+=e)}addVoltage(e){e&&(this.sp=="tz"&&(this.score+=e),this.sp=="tz2"&&this.addAp(1*e))}addMental(e){e&&(e>0&&this.sp=="mg2"&&(this.score+=e,this.addAp(1*e)),e>0?this.mental=!0:e<0&&this.sp!="mg2"&&(this.mental=!1))}addProtect(e){e&&(this.sp=="mg2"&&(this.score+=e,this.addAp(2*e)),this.protect=!0)}subtractAp(e){if(e!=null&&e.length)for(let s of this.getAllCards())s.cost+=s.calcSubtractAp(e)}addCard(e){if(e!=null&&e.length)for(let s of e)this.yama.push(new I(s))}addAp(e){if(e){let s=this.ap+e;s>this.apMax&&(s=this.apMax),s<0&&(s=0),this.ap=Number(s.toFixed(2))}}changeIgnition(e){e!=null&&(this.usingCard?this.ignitionChangeQueue.push(e):e==1?this.ignition=!0:e==0?this.ignition=!1:e==-1&&(this.ignition=!this.ignition))}ensemble(e){e&&this.te.forEach((s,r)=>{var i;(i=s.getSkill(this))!=null&&i.ensemble||this.useCard(r,!0)})}};const ie={class:"cost"},ae={key:0,class:"close"},oe={key:1,class:"test"},ne={key:2,class:"time"},ue={__name:"Card",props:{card:{type:I},stage:{type:te},te:{default:!1},close:{default:!1},pointerEvents:{default:"auto"}},setup(t){const e=t,s={heart:"rgb(204,39,39)","love+":"rgb(174,141,24)",voltage:"rgb(174,141,24)",mental:"rgb(48,124,24)",reshuffle:"rgb(134,82,195)",teMax:"rgb(134,82,195)",protect:"rgb(48,124,24)",dress:"rgb(134,82,195)",ap:"rgb(174,141,24)","ap-":"rgb(134,82,195)",ensemble:"black","":"transparent"},r={1:"#f8b500",2:"#5383c3",3:"#68be8d",4:"#ba2636",5:"#e7609e",6:"#c8c2c6",7:"#a2d7dd",8:"#fad764",9:"#9d8de2",bubble:"#555555",jewelry:"#555555"};return(i,m)=>{var h,o,d,v;return c(),g("div",{class:"card",style:q({pointerEvents:t.te&&e.card.getCost(t.te?e.stage.te:void 0)>e.stage.ap?"none":e.pointerEvents})},[a("div",{class:"background",style:q({backgroundColor:r[e.card.member]?`${r[e.card.member]}`:"transparent"})},null,4),a("div",{style:q({fontWeight:e.card.isReshuffle(e.stage)?"bold":"",fontStyle:e.card.isReshuffle(e.stage)?"italic":""})},p(e.card.short),5),a("div",ie,p(e.card.getCost(t.te?e.stage.te:void 0)),1),a("div",{class:"main",style:q({backgroundColor:s[e.card.getMain(e.stage)]})},null,4),e.close?(c(),g("div",ae,"Ã—")):V("",!0),e.te?(c(),g("div",oe,p(Number(e.stage.testResults[e.stage.te.indexOf(e.card)].toFixed(2))),1)):V("",!0),(h=e.stage)!=null&&h.ignition&&((d=(o=e.card)==null?void 0:o.props)!=null&&d.ignitionTimes)?(c(),g("div",ne,p(((v=e.stage)==null?void 0:v.ignitionTimesDict[e.card.short])??0),1)):V("",!0)],4)}}},O=ee(ue,[["__scopeId","data-v-41d7c9d5"]]);function R(t){let e=[];for(let s=0;s<t.te.length;s++)t.te[s].getCost(t.te)<=t.ap&&t.testResults[s]>=0&&e.push(s);return e}function W(t,e){let s=e.map(i=>t.testResults[i]),r=Math.max(...s);return e.filter((i,m)=>s[m]==r)}function X(t,e,s){let r=t.te.map((o,d)=>t.testResults[d]/t.te[d].getCalcCost(t)),i=e.map(o=>r[o]),m=Math.max(...i),h=(Math.min(...i)+m)/2;if(!s&&m<=0&&Math.max(...r)>0){let o=e.filter(v=>i[v]>=h),d=Math.min(...o.map(v=>t.te[v].getCost(t.te)));return d<=t.apSpeed?o.filter(v=>t.te[v].getCost(t.te)==d):[]}else return e.filter((o,d)=>i[d]==m)}function me(t,e){let s=e.filter(m=>{var h;return(h=t.te[m].getSkill(t))==null?void 0:h["ap-"]});s.length||(s=e);let r=s.map(m=>{let h=t.te[m],o=0;return t.getAllCards().forEach(d=>{var v,w,f,k;(w=(v=d.props)==null?void 0:v.draw)!=null&&w["ap-"]&&(o+=h.calcSubtractAp((k=(f=d.props)==null?void 0:f.draw)==null?void 0:k["ap-"]))}),o}),i=Math.min(...r);return s.filter((m,h)=>r[h]==i)}function Z(t,e){let s=e.filter(r=>{var i,m;return(m=(i=t.te[r].props)==null?void 0:i.drawFilters)==null?void 0:m.length});return s.length?s:e}function _(t,e,s){if(t.getAllCards().filter(m=>m.member=="jewelry").length>e)return s;let i=s.filter(m=>t.te[m].member!="jewelry");return i.length?i:s}function K(t,e=8,s){let r,i;if(s==null&&(s=t.strategy??(t.sp=="mg2"||t.sp=="tz2"||t.sp=="kz2"?"score":"cost"),t.ap+t.apSpeed*(t.apMax/10)>=t.apMax&&(s="score")),!t.ignition&&t.te.find(m=>m.short=="ä¸Šå‡å§¬èŠ½")&&t.te.find(m=>(m.getMain(t)=="mental"||m.getMain(t)=="protect")&&m.short!="ä¸Šå‡å§¬èŠ½")&&(s=="score"?r=W(t,R(t).filter(m=>{let h=t.te[m];return(h.getMain(t)=="mental"||h.getMain(t)=="protect")&&h.short!="ä¸Šå‡å§¬èŠ½"}))[0]:r=X(t,R(t).filter(m=>{let h=t.te[m];return(h.getMain(t)=="mental"||h.getMain(t)=="protect")&&h.short!="ä¸Šå‡å§¬èŠ½"}),!0)[0]),r==null&&(i=t.te.findIndex(m=>m.short=="kolæ…ˆ"),i>=0&&t.getAllCards().filter(m=>m.member=="jewelry").length<e&&t.te[i].getCost(t.te)<(s=="score"?t.ap-t.apSpeed:t.ap-t.apSpeed*(t.apMax/10))&&(r=i)),r==null&&(i=t.te.findIndex(m=>m.member=="jewelry"&&t.hasCostEffect),i>=0&&t.getAllCards().filter(m=>m.member=="jewelry").length>e&&(r=i)),r==null&&(s=="score"?r=Z(t,_(t,e,W(t,R(t))))[0]:r=me(t,Z(t,_(t,e,X(t,R(t)))))[0]),R(t).length&&r==null)debugger;return r}window.strategyPlay=K;const he={class:"grid"},de=["open"],fe={class:"grid"},pe={style:{"font-size":"small"}},ce=["disabled"],ve=["disabled"],ge=["disabled"],be=["disabled"],Ce=["disabled"],ke=["disabled"],ye=["disabled"],we=["disabled"],Ae=["disabled"],Me=["disabled"],Se=["disabled"],De=["disabled"],Te=["disabled"],xe={style:{"text-align":"right"}},je={class:"flex-between"},Ee={class:"flex-between"},Ie={class:"flex-between"},ze={class:"grid"},Fe={class:"grid"},Pe={class:"grid"},Ne={colspan:"6"},Ve={colspan:"2"},Le={colspan:"2"},$e={colspan:"2"},He={colspan:"2"},Oe={colspan:"2"},Re={colspan:"2"},Ue=["onClick"],qe={colspan:"2",style:{"text-align":"center"}},Ye={__name:"Stage",setup(t){const e=j(!1),s=j(!1),r=j([]),i=j(!1),m=j(),h=j(),o=j({qc:140,sh:3.3,deckLength:17,apSpeed:2.34,apMax:20,sp:"",effect:"",jewelryCountTargetMin:0,jewelryCountTargetMax:16,cardTimes:373,skipTimes:36,strategy:"cost",jewelryCountTarget:0});let d=localStorage.getItem("formData");try{d&&(o.value={...o.value,...JSON.parse(d)})}catch{}const v=b=>b.slice().sort((l,u)=>typeof l.member=="number"&&typeof u.member=="number"?l.member-u.member:typeof l.member=="number"&&typeof u.member!="number"?-1:typeof l.member!="number"&&typeof u.member=="number"||l.member>u.member?1:l.member<u.member?-1:0).sort((l,u)=>l.year&&u.year?u.year-l.year:l.year&&!u.year?-1:!l.year&&u.year?1:0),w=v(G.map(b=>new I(b.short))),f=j([]);let k=localStorage.getItem("deck");try{k&&(f.value=JSON.parse(k).map(b=>new I(b)))}catch{}f.value.length||(f.value=G.filter(b=>typeof b.member=="number").map(b=>new I(b.short)).slice(0,16));const n=j();window.getStage=()=>n.value;const N=()=>{n.value=new te([]),n.value.apSpeed=Number(o.value.apSpeed),n.value.apMax=Number(o.value.apMax),n.value.sp=o.value.sp,n.value.effect=o.value.effect,n.value.strategy=o.value.strategy,n.value.yama=f.value.map(b=>new I(b.short))};N();const U=()=>{e.value=!1,N()},L=async b=>{var l;if(localStorage.setItem("formData",JSON.stringify(o.value)),localStorage.setItem("deck",JSON.stringify(f.value.map(u=>u.short))),i.value=!1,e.value=!0,s.value=b,b){r.value.push({deck:f.value.map(u=>u.short).join(", "),formData:{...o.value},dict:{}});for(let u=Number(o.value.jewelryCountTargetMin);u<=Number(o.value.jewelryCountTargetMax)&&e.value;u++){let A=0,S=0,D={apSkip:0};for(let x of f.value)D[x.short]=0;for(let x=0;x<Number(o.value.skipTimes);x++){await C(),N(),n.value.jewelryCountTarget=u,n.value.start();for(let z=0;z<Number(o.value.cardTimes)&&e.value;z++)n.value.useCard(K(n.value,u));if(!e.value)break;A+=n.value.score,S+=(l=n.value.getAllCards().filter(z=>z.member=="jewelry"))==null?void 0:l.length;for(let z in n.value.cardTimesDict)D[z]||(D[z]=0),D[z]+=n.value.cardTimesDict[z]}if(!e.value)break;for(let x in D)D[x]=Number((D[x]/o.value.skipTimes).toFixed(2));r.value.at(-1).dict[u]={score:Number((A/o.value.skipTimes).toFixed(2)),jewelryCount:Number((S/o.value.skipTimes).toFixed(2)),cardTimesDict:D}}e.value=!1}else N(),n.value.jewelryCountTarget=o.value.jewelryCountTarget,n.value.start(),F()},C=async b=>new Promise(l=>setTimeout(l,b)),$=j(-1),F=()=>{$.value=K(n.value,o.value.jewelryCountTarget)};return(b,l)=>(c(),g("div",null,[!e.value||s.value?(c(),g(T,{key:0},[a("h2",null,[l[23]||(l[23]=y(" DECK ")),a("button",{onClick:l[0]||(l[0]=u=>f.value=v(f.value))},"â‡…")]),l[25]||(l[25]=a("hr",null,null,-1)),a("div",he,[(c(!0),g(T,null,P(f.value,(u,A)=>(c(),H(O,{card:u,close:!0,onClick:S=>f.value.splice(A,1),"pointer-events":e.value?"none":"auto"},null,8,["card","onClick","pointer-events"]))),256))]),a("details",{open:i.value},[l[24]||(l[24]=a("summary",null,[y(" CARD "),a("hr")],-1)),a("div",fe,[(c(!0),g(T,null,P(B(w),(u,A)=>(c(),H(O,{card:u,onClick:S=>f.value.push(new(B(I))(u.short)),"pointer-events":e.value?"none":"auto"},null,8,["card","onClick","pointer-events"]))),256))])],8,de)],64)):V("",!0),a("form",null,[l[45]||(l[45]=a("h2",null,"STAGE",-1)),l[46]||(l[46]=a("hr",null,null,-1)),a("div",pe,[l[26]||(l[26]=a("label",{for:"qc"},"æ›²é•¿: ",-1)),M(a("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>o.value.qc=u),type:"text",disabled:e.value,id:"qc"},null,8,ce),[[E,o.value.qc]]),l[27]||(l[27]=y(" sÂ  ")),l[28]||(l[28]=a("label",{for:"qc"},"ç”ŸåŒ–å€¼: ",-1)),M(a("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>o.value.sh=u),type:"text",disabled:e.value,id:"sh"},null,8,ve),[[E,o.value.sh]]),l[29]||(l[29]=y(" Â  ")),l[30]||(l[30]=a("label",{for:"deckLength"},"å¡ç»„ç‰Œæ•°: ",-1)),M(a("input",{"onUpdate:modelValue":l[3]||(l[3]=u=>o.value.deckLength=u),type:"number",disabled:e.value,id:"deckLength"},null,8,ge),[[E,o.value.deckLength]]),l[31]||(l[31]=y(" Â  ")),a("button",{onClick:l[4]||(l[4]=u=>{o.value.apSpeed=Number((1200/o.value.qc/o.value.sh*(1-.1*Math.min(9,18-o.value.deckLength))).toFixed(2)),o.value.cardTimes=Math.floor(o.value.qc*8/3)}),disabled:e.value}," è®¡ç®—APå›å¤é€Ÿåº¦/æš‚åœå›æ•° ",8,be)]),a("div",null,[l[32]||(l[32]=a("label",{for:"ap"},"APå›å¤é€Ÿåº¦: ",-1)),M(a("input",{"onUpdate:modelValue":l[5]||(l[5]=u=>o.value.apSpeed=u),type:"text",disabled:e.value,id:"ap"},null,8,Ce),[[E,o.value.apSpeed]])]),a("div",null,[l[33]||(l[33]=a("label",{for:"card-time"},"æš‚åœå›æ•°: ",-1)),M(a("input",{"onUpdate:modelValue":l[6]||(l[6]=u=>o.value.cardTimes=u),disabled:e.value,type:"number",id:"card-time"},null,8,ke),[[E,o.value.cardTimes]])]),a("div",null,[l[34]||(l[34]=a("label",{for:"ap-max"},"æœ€å¤§AP: ",-1)),M(a("input",{"onUpdate:modelValue":l[7]||(l[7]=u=>o.value.apMax=u),disabled:e.value,type:"number",id:"ap-max"},null,8,ye),[[E,o.value.apMax]])]),a("div",null,[l[36]||(l[36]=a("label",{for:"sp"},"SP: ",-1)),M(a("select",{"onUpdate:modelValue":l[8]||(l[8]=u=>o.value.sp=u),disabled:e.value,id:"sp",onChange:l[9]||(l[9]=u=>o.value.sp.includes("2")?o.value.strategy="score":o.value.strategy="cost")},l[35]||(l[35]=[J('<option value="" data-v-e9008698>--</option><option value="tz" data-v-e9008698>èˆä¼šç¼€</option><option value="sy" data-v-e9008698>èˆä¼šæ²™è€¶</option><option value="tz2" data-v-e9008698>é“¶æ²³ç¼€</option><option value="mg2" data-v-e9008698>é“¶æ²³æ…ˆ</option>',5)]),40,we),[[Y,o.value.sp]])]),a("div",null,[l[38]||(l[38]=a("label",{for:"effect"},"æ•ˆæœ: ",-1)),M(a("select",{"onUpdate:modelValue":l[10]||(l[10]=u=>o.value.effect=u),disabled:e.value,id:"effect"},l[37]||(l[37]=[J('<option value="" data-v-e9008698>--</option><option value="st1a" data-v-e9008698> (2025/01 å…¬ä¼šæˆ˜A) skill6å›ä½¿ç”¨ deckå…¨cardæ¶ˆè´¹AP+1 </option><option value="kj1a" data-v-e9008698> (2025/01 ä¸ªäººæˆ˜A) å±±æœ­åˆ‡ AP3å›å¤ mainæ•ˆæœreshuffleæ•ˆæœdeckå…¨cardæ¶ˆè´¹AP+1 </option><option value="kj1b" data-v-e9008698> (2025/01 ä¸ªäººæˆ˜B) skill5å›ä½¿ç”¨ æ‰‹æœ­å…¨æ¨ å±±æœ­æ‰‹æœ­ä¸Šé™å¼•ç›´ </option><option value="gc1a" data-v-e9008698> (2025/01 GC A) skill30å›ä½¿ç”¨ mainæ•ˆæœmentalå›å¤deckå…¨cardæ¶ˆè´¹APstageä¸­å¸¸-1 </option><option value="gc1b" data-v-e9008698> (2025/01 GC B) skill15å›ä½¿ç”¨ deckå…¨ã‚¹ãƒªãƒ–cardæ¶ˆè´¹APstageä¸­å¸¸-1 </option><option value="gc1c" data-v-e9008698> (2025/01 GC C) skill20å›ä½¿ç”¨ deckå…¨ãƒ‰ãƒ«ã‚±cardæ¶ˆè´¹APstageä¸­å¸¸-1 </option>',7)]),8,Ae),[[Y,o.value.effect]])]),a("div",null,[l[40]||(l[40]=a("label",{for:"strategy"},"ç­–ç•¥: ",-1)),M(a("select",{"onUpdate:modelValue":l[11]||(l[11]=u=>o.value.strategy=u),disabled:e.value,id:"strategy"},l[39]||(l[39]=[a("option",{value:"cost"},"LOVE/APä¼˜å…ˆ",-1),a("option",{value:"score"},"LOVEä¼˜å…ˆ",-1)]),8,Me),[[Y,o.value.strategy]])]),a("div",null,[l[41]||(l[41]=a("label",{for:"jewelry"},"LIVE TARGETğŸ’: ",-1)),M(a("input",{"onUpdate:modelValue":l[12]||(l[12]=u=>o.value.jewelryCountTarget=u),type:"number",id:"jewelry",onChange:l[13]||(l[13]=u=>{e.value&&!s.value&&(n.value.jewelryCountTarget=o.value.jewelryCountTarget,n.value.testAllCards(),F())})},null,544),[[E,o.value.jewelryCountTarget]])]),a("div",null,[l[42]||(l[42]=a("label",{for:"jewelry"},"SKIP TARGETğŸ’: ",-1)),M(a("input",{"onUpdate:modelValue":l[14]||(l[14]=u=>o.value.jewelryCountTargetMin=u),disabled:e.value,type:"number",id:"jewelry"},null,8,Se),[[E,o.value.jewelryCountTargetMin]]),l[43]||(l[43]=y(" ~ ")),M(a("input",{"onUpdate:modelValue":l[15]||(l[15]=u=>o.value.jewelryCountTargetMax=u),disabled:e.value,type:"number",id:"jewelry"},null,8,De),[[E,o.value.jewelryCountTargetMax]])]),a("div",null,[l[44]||(l[44]=a("label",{for:"skip-time"},"SKIPå›æ•°: ",-1)),M(a("input",{"onUpdate:modelValue":l[16]||(l[16]=u=>o.value.skipTimes=u),disabled:e.value,type:"number",id:"skip-time"},null,8,Te),[[E,o.value.skipTimes]])])]),a("div",xe,[e.value&&!s.value?(c(),g("button",{key:0,onClick:l[17]||(l[17]=u=>{h.value={key:n.value.jewelryCountTarget,score:n.value.score,cardTimesDict:n.value.cardTimesDict},Q(()=>m.value.showModal())})}," LOG ")):V("",!0),e.value?(c(),g("button",{key:1,onClick:U},"RETIRE")):(c(),g(T,{key:2},[r.value.length?(c(),g("button",{key:0,onClick:l[18]||(l[18]=u=>r.value=[])}," CLEAR RESULTS ")):V("",!0),a("button",{onClick:l[19]||(l[19]=u=>L(!0))},"SKIP"),a("button",{onClick:l[20]||(l[20]=u=>L(!1))},"LIVE START")],64))]),e.value&&!s.value?(c(),g(T,{key:1},[a("h2",je,[a("div",null,p(n.value.score),1),a("div",null,p(n.value.timesCount)+"å›",1)]),a("h2",Ee,[a("div",null,p(n.value.sp=="mg2"?"âˆ":n.value.mental?"100%":"-%"),1),a("div",null,p(n.value.ignition?"ğŸ”¥":"ğŸš«")+" "+p(n.value.sp=="kz2"?"âˆ":n.value.ap),1)]),l[47]||(l[47]=a("div",{style:{"text-align":"right"}},null,-1)),a("h2",Ie,[a("div",null,"æ‰‹æœ­ "+p(n.value.te.length),1),a("button",{onClick:l[21]||(l[21]=u=>{n.value.useCard(void 0),F()})}," AP SKIP ")]),l[48]||(l[48]=a("hr",null,null,-1)),a("div",ze,[(c(!0),g(T,null,P(n.value.te,(u,A)=>(c(),H(O,{card:u,stage:n.value,te:!0,class:re({highlight:$.value==A}),onClick:S=>{n.value.useCard(A),F()}},null,8,["card","stage","class","onClick"]))),256))]),a("h2",null,"æ¨æœ­ "+p(n.value.sute.length),1),l[49]||(l[49]=a("hr",null,null,-1)),a("div",Fe,[(c(!0),g(T,null,P(n.value.sute,(u,A)=>(c(),H(O,{card:u,stage:n.value,"pointer-events":"none"},null,8,["card","stage"]))),256))]),a("h2",null,"å±±æœ­ "+p(n.value.yama.length),1),l[50]||(l[50]=a("hr",null,null,-1)),a("div",Pe,[(c(!0),g(T,null,P(n.value.yama,(u,A)=>(c(),H(O,{card:u,stage:n.value,"pointer-events":"none"},null,8,["card","stage"]))),256))])],64)):(c(!0),g(T,{key:2},P(r.value,(u,A)=>(c(),g("table",null,[a("thead",null,[a("tr",null,[a("td",Ne,p(u.deck),1)]),a("tr",null,[a("td",Ve,"APå›å¤é€Ÿåº¦: "+p(u.formData.apSpeed),1),a("td",Le,"æš‚åœå›æ•°: "+p(u.formData.cardTimes),1),a("td",$e,"SKIPå›æ•°: "+p(u.formData.skipTimes),1)]),a("tr",null,[a("td",He,"SP: "+p(u.formData.sp),1),a("td",Oe,"æ•ˆæœ: "+p(u.formData.effect),1),a("td",Re,"ç­–ç•¥: "+p(u.formData.strategy),1)]),l[51]||(l[51]=a("tr",null,[a("td",null,[y("target"),a("br"),y("ğŸ’")]),a("td",null,[y("kolæ…ˆ"),a("br"),y("å›æ•°")]),a("td",null,[y("ğŸ’"),a("br"),y("å›æ•°")]),a("td",null,[y("AP SKIP"),a("br"),y("å›æ•°")]),a("td",null,"heart"),a("td",null,"%")],-1))]),a("tbody",null,[(c(!0),g(T,null,P(u.dict,(S,D)=>(c(),g("tr",{style:{cursor:"pointer"},onClick:x=>{h.value={key:D,...S},Q(()=>m.value.showModal())}},[a("td",null,p(D),1),a("td",null,p(S.cardTimesDict.kolæ…ˆ??0),1),a("td",null,p(S.cardTimesDict["ğŸ’"]??0),1),a("td",null,p(S.cardTimesDict.apSkip),1),a("td",null,p(S.score),1),a("td",null,p(Number((S.score/Math.max(...Object.values(u.dict).map(x=>x.score))*100).toFixed(2))),1)],8,Ue))),256))])]))),256)),h.value?(c(),g("dialog",{key:3,ref_key:"dialog",ref:m},[a("table",null,[a("thead",null,[a("tr",null,[l[52]||(l[52]=a("td",null,"targetğŸ’",-1)),a("td",null,p(h.value.key),1)]),a("tr",null,[l[53]||(l[53]=a("td",null,"heart",-1)),a("td",null,p(h.value.score),1)])]),a("tbody",null,[(c(!0),g(T,null,P(h.value.cardTimesDict,(u,A)=>(c(),g("tr",null,[a("td",null,p(A),1),a("td",null,p(u)+"å›",1)]))),256))]),a("tfoot",null,[a("tr",null,[a("td",qe,[a("button",{onClick:l[22]||(l[22]=u=>h.value=void 0)},"å…³é—­")])])])])],512)):V("",!0)]))}},Ke=ee(Ye,[["__scopeId","data-v-e9008698"]]);export{Ke as default};
